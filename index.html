<!DOCTYPE html> 
    <html> 
    <head>
        <Title>Node Express</Title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/lib/bootstrap.min.css">
    </head>
    <!-- <ul class="menu">
        <li><a href="#home">Home</a></li>
        <li><a href="#services">AS</a>
            <ul class="submenu">
                <li><a href="#web-development">방문</a></li>
                <li><a href="#app-development">택배</a></li>
                <li><a href="#seo-development">용달</a></li>
            </ul>
        </li>
        <li><a href="#services">Parts</a>
            <ul class="submenu">
                <li><a href="#web-development">선발송</a></li>
                <li><a href="#app-development">증가</a></li>
                <li><a href="#seo-development">감소</a></li>
            </ul>
        </li>
        </ul>
    </ul> -->
    <nav class="side-nav">
        <!-- 좌측 네비게이션 내용 -->
        <ul>
            <li><a href="#">메뉴 1</a></li>
            <li><a href="#">메뉴 2</a></li>
            <li><a href="#">메뉴 3</a></li>
        </ul>
    </nav>
    <div class="content">
        <div class="top-nav-1">
            <!-- 상단 네비게이션 내용 -->
            <form onsubmit="showSubmitMessage(); return false;">
                <label for="name">이름:</label><br>
                <input type="text" id="name" name="name" placeholder="검색" style="opacity: 0.7;"><br>
                <input type="submit" value="제출">
              </form>
        </div>
    <div class="content">
        <div class="top-nav-1">
            <!-- 상단 네비게이션 내용 -->
            <ul>
                <li><a href="#">번호</a></li>
                <li><a href="#">날짜</a></li>
                <li><a href="#">예약/반송/문의</a></li>
                <li><a href="#">구입날짜</a></li>
                <li><a href="#">유상</a></li>
                <li><a href="#">결제</a></li>
                <li><a href="#">착불</a></li>
            </ul>
        </div>
    <div class="content">
        <div class="top-nav-1">
            <!-- 상단 네비게이션 내용 -->
            <ul>
                <li><a href="#">이름</a></li>
                <li><a href="#">연락처</a></li>
                <li><a href="#">주소</a></li>
                <li><a href="#">주행거리</a></li>
                <li><a href="#">모델</a></li>
                <li><a href="#">연락처2</a></li>
            </ul>
        </div>
    <div class="content">
        <div class="top-nav-2">
            <!-- 상단 네비게이션 내용 -->
            <ul>
                <li><a href="#">고장 증상</a></li>
            </ul>
        </div>
    <div class="content">
        <div class="top-nav-2">
            <!-- 상단 네비게이션 내용 -->
            <ul>
                <li><a href="#">작업히스토리</a></li>
            </ul>
        </div>
    <div class="content">
        <div class="top-nav-2">
            <!-- 상단 네비게이션 내용 -->
            <ul>
                <li><a href="#">부품사용</a></li>
            </ul>
        </div>    
        <main>
            <!-- 메인 콘텐츠 -->
            <h1>환영합니다!</h1>
            <p>여기는 메인 콘텐츠 영역입니다.</p>
            
    <body>
        
    <table>
        <div class="form-container">
            <h2>퀄리스포츠 AS 현황 안내</h2>
            <form>
                <input type="text" id="name" name="name" placeholder="이름" required>
                <input type="text" id="contact" name="contact" placeholder="연락처" required>
                <input type="text" id="mileage" name="mileage" placeholder="주행거리" required>
                <input type="text" id="model" name="model" placeholder="모델" required>
                <!-- Address Section Toggle -->
                <input type="checkbox" id="addAddressCheckbox">
                <label for="addAddressCheckbox">주소입력</label>
                <div id="addressFields" style="display: none;">
                <input type="text" id="street" name="street"placeholder="주소" required>
                    
                <label for="longContent">Enter Long Content:</label>
                <textarea id="longContent" name="longContent" rows="4" cols="50"></textarea>
                
                <!-- Submit Button -->
                <input type="submit" value="Submit">                                    
                
            </form>
            
        </div>

        
    </table>    
    
    <span>
        <input type="text" id="name2" name="name2" placeholder="이름2" required>

    </span>

        <!-- <a href="/html/list.html">test list</a>
         다른 페이지 링크 걸기
        <a href="/html/list2.html">test2 list</a> -->
              
        <div id="content"></div>
        <script src="js/lib/jquery-3.2.1.min.js"></script>
        <script src="js/lib/handlebars.min.js"></script>
        <script src="js/lib/bootstrap.min.js"></script>
        <script id="entry-template" type="text/x-handlebars-template">
            <div class="mt-5" style="font-size: 9px; margin: 50px;">
                
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                        <tr>
                            <th>번호</th>
                            <th>예약, 반송, 문의</th>
                            <th>담당</th>
                            <th>물품명</th>
                            <th>결제방식</th>
                            <th>결제금액</th>
                            <th>확인된<br>구입일자</th>
                            <th>고장시 고객 주장(택배)<br>고장시 업체 주장(전화, 택배)</th>
                            <th>고장내용<br>선발송 사유</th>
                            <th>작업 히스토리<br>(수리자 이름등록)</th>
                            <th>유상처리 목록</th>
                            <th>비고(부품증가분)</th>
                            <th>result</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#each data}}
                        <tr>
                            <th scope="row">{{id}}</th>
                            <th>{{status}}</th>
                            <th>{{manager}}</th>
                            <th>{{item_name}}</th>
                            <th>{{payment_method}}</th>
                            <th>{{payment_amount}}</th>
                            <th>{{purchase_date}}</th>
                            <th>{{memo}}</th>
                            <th>{{fault_detail}}</th>
                            <th>{{history}}</th>
                            <th>{{payment_list}}</th>
                            <th>{{remark}}</th>
                            <th>{{result}}</th>
                        </tr>
                        {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>
        </script>
        <script>
            function showSubmitMessage() {
                var result = confirm("제출되었습니다. 다시 검색하시겠습니까?");
                if (result) {
                // Yes 클릭 시 동작
                // 창을 닫는다
                window.close();
                } else {
                // No 클릭 시 동작
                // 아무 동작 없음
                }
            }

            const addAddressCheckbox = document.getElementById('addAddressCheckbox');
            const addressFields = document.getElementById('addressFields');
        
            addAddressCheckbox.addEventListener('change', function() {
            if (this.checked) {
                addressFields.style.display = 'block';
            } else {
                addressFields.style.display = 'none';
            }
            });
            
            // Function to generate a random post number
            function generatePostNumber() {
                return Math.floor(Math.random() * 1000) + 1; // Adjust range as needed
            }

            function setLabelPosition(position) {
                document.getElementById('label-position').value = position;
            }
            
            $(document).ready(function() {
                // API 호출
                $.ajax({
                    url: 'localhost',
                    method: 'GET',
                    dataType: 'json',
                    success: function(response) {
                        // 템플릿 가져오기
                        var source = document.getElementById("entry-template").innerHTML;

                        // 템플릿 컴파일
                        var template = Handlebars.compile(source);

                        // 데이터를 템플릿에 바인딩
                        var html = template({data: response});

                        // 결과를 HTML에 삽입
                        document.getElementById("content").innerHTML = html;
                    },
                    error: function(error) {
                        console.error('Error fetching data', error);
                    }
                });
            });
            
        </script>
        <script src="js/handlebars.test.js"></script>
    </body>
</html>

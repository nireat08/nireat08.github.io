<!DOCTYPE html> 
    <html> 
    <head>
        <Title>Node Express</Title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/lib/bootstrap.min.css">
    </head>
    <!-- <ul class="menu">
        <li><a href="#home">Home</a></li>
        <li><a href="#services">AS</a>
            <ul class="submenu">
                <li><a href="#web-development">방문</a></li>
                <li><a href="#app-development">택배</a></li>
                <li><a href="#seo-development">용달</a></li>
            </ul>
        </li>
        <li><a href="#services">Parts</a>
            <ul class="submenu">
                <li><a href="#web-development">선발송</a></li>
                <li><a href="#app-development">증가</a></li>
                <li><a href="#seo-development">감소</a></li>
            </ul>
        </li>
        </ul>
    </ul> -->
    <nav class="side-nav">
        <!-- 좌측 네비게이션 내용 -->
        <ul>
            <li><a href="#">진행중</a></li>
            <li><a href="#">완료</a></li>
            <li><a href="#">짜잔</a></li>
        </ul>
    </nav>
    <div class="content">
        <div>
            <!-- 상단 네비게이션 내용 -->
            <form onsubmit="showSubmitMessage(); return false;">
                <label for="name">이름:</label>
                <input type="text" id="name" name="name" placeholder="검색" style="opacity: 0.7;">
                <input type="submit" value="제출">
              </form>
        </div>
    <table>
        <th>접수번호</th>
        <th>접수날짜</th>
        <th>
             
        </th>
        <!--<td>처리현황</td>
        <td><button type="button" id="yes-button" class="default-button">진행중</button>
            <button type="button" id="no-button" class="default-button">완료</button>
  
        <label for="reservation-check">예약</label>
        <input type="checkbox" id="reservation-check">
        <td class="box" id="colorBox">
        <label class="box" id="clo">노예약</label>-->
        </td>
        <tr>
            <td>
                접수방법
            </td>
            <td>
                <select name="delivery-method">
                    <option value="" disabled selected>접수 방법 선택</option>
                    <option value="예약방문">예약방문</option>
                    <option value="방문">방문</option>
                    <option disabled >-----</option>
                    <option value="영업 외 시간 놓고 감">영업 외 시간 놓고 감</option>
                    <option value="맡기고 감">맡기고 감</option>
                    <option disabled >-----</option>
                    <option value="퀵 서비스">퀵 서비스</option>
                    <option value="택배">택배</option>
                </select>

            <td>
                AS처리 후<br>
                 수령 방법
            </td>
            <td>
                <select name="delivery-method">
                    <option value="" disabled selected>수령 방법 선택</option>
                    <option value="전화 주면 방문">전화 주면 방문</option>
                    <option value="기다림">기다림</option>
                    <option disabled >-----</option>
                    <option value="영업 외 시간 놓고 감">영업 외 시간 놓고 감</option>
                    <option value="맡기고 감">맡기고 감</option>
                    <option disabled >-----</option>
                    <option value="퀵 서비스">퀵 서비스</option>
                    <option value="택배">택배</option>
                </select>
            </td>
        </tr>
            <td>
                결제금액
            </td>
            <td>
                10000원
            </td>
            <td>
                결제방법
            </td>
            <td>
                <select name="delivery-method">
                    <option value="" disabled selected>결제방법선택</option>
                    <option value="카드">카드</option>
                    <option value="현금">현금</option>
                </select>


                <label for="free-pay">무상</label>
                <input type="checkbox" id="free-pay">
                <div id="free" style="display: none;">
                    <input type="text" placeholder="날짜입력" required>
                </div>

                <label for="pay-check">유상</label>
                <input type="checkbox" id="pay-check">
                <div id="free" style="display: none;">
                    <input type="text" placeholder="날짜입력" required>
                </div>

                <label>할인</label>
                <input type="checkbox">
                
                
                <label for="Partialpay-check">부분유료</label>
                <input type="checkbox" id="Partialpay-check">
                <div class="addressFields" style="display: none;">
                <input type="number" placeholder="금액입력" required>
            </td>
      
    </table>    
    
    <table>
        <th>
            <form>
                <label for="name">모델 입력</label>
                <input type="text" id="name" name="name" placeholder="모델" required>
                <input type="text" id="name" name="name" placeholder="주행거리" required>
                <input type="text" id="name" name="name" placeholder="이름" required>
                <input type="text" id="name" name="name" placeholder="구입처" required>
            </form>
        </th>
        <tr>
            <td>
                <input type="text" id="name" name="name" placeholder="연락처" required>
                <input type="text" id="name" name="name" placeholder="주소" required>
            </td>
        </tr>
    </table>
    <div class="content">
        <div class="top-nav-2">
            <!-- 상단 네비게이션 내용 -->
            <ul>
                <label for="number">고장증상</label>
                <input type="text" id="name" name="name" placeholder="고객이 주장하는 고장 증상을 상세히 적으시오." style="opacity: 0.7; width: 300px;">
            </ul>
        </div>
    <div class="content">
        <div class="top-nav-2">
            <!-- 상단 네비게이션 내용 -->
            <ul>
                <label for="number">고장증상</label>
                
                <div class="vertical-buttons">
                    <button onclick="selectButton('No. 1', this, 0)">No. 1</button>
                    <button onclick="selectButton('No. 2', this, 1)">No. 2</button>
                    <button onclick="selectButton('No. 3', this, 2)">No. 3</button>
                </div>
                <input type="text" id="inputField" placeholder="내용을 입력하세요" onkeypress="handleKeyPress(event)">
                <button onclick="addContent()">입력</button>
                
                <div id="displayArea"></div>
            </ul>
        </div>
    <div class="content">
        <div class="top-nav-2">
            <!-- 상단 네비게이션 내용 -->
            <ul>
                <li><a href="#">부품사용</a></li>
            </ul>
        </div>    
                  
    <body>
        
    <!-- <table>
        <div class="form-container">
            <h2>퀄리스포츠 AS 현황 안내</h2>
            <form>
                <input type="text" id="name" name="name" placeholder="이름" required>
                <input type="text" id="contact" name="contact" placeholder="연락처" required>
                <input type="text" id="mileage" name="mileage" placeholder="주행거리" required>
                <input type="text" id="model" name="model" placeholder="모델" required>
                <-- Address Section Toggle --
                <input type="checkbox" id="addAddressCheckbox">
                <label for="addAddressCheckbox">주소입력</label>
                <div id="addressFields" style="display: none;">
                <input type="text" id="street" name="street"placeholder="주소" required>
                    
                <label for="longContent">Enter Long Content:</label>
                <textarea id="longContent" name="longContent" rows="4" cols="50"></textarea>
                
                !-- Submit Button --
                <input type="submit" value="Submit">                                    
                
            </form>
            
        </div> 

        
    </table>  -->  
    

        <!-- <a href="/html/list.html">test list</a>
         다른 페이지 링크 걸기
        <a href="/html/list2.html">test2 list</a> -->
              
        <div id="content"></div>
        <script src="js/lib/jquery-3.2.1.min.js"></script>
        <script src="js/lib/handlebars.min.js"></script>
        <script src="js/lib/bootstrap.min.js"></script>
        <script id="entry-template" type="text/x-handlebars-template">
            
        </div>
        </script>
        <script>
            //버튼 Y, N 설정
            const yesButton = document.getElementById('yes-button');
            const noButton = document.getElementById('no-button');

            let selectedButton = null; // 선택된 버튼을 추적하기 위한 변수

            yesButton.addEventListener('click', function() {
                if (selectedButton === 'yes') {
                    // 이미 선택된 Y 버튼을 다시 누르면 선택 취소
                    selectedButton = null;
                    yesButton.classList.remove('selected-button');
                } else if (selectedButton === 'no') {
                    // 다른 버튼이 선택된 상태에서 Y 버튼을 누르면 경고 표시
                    showWarning();
                } else {
                    // 기본 상태에서 Y 버튼을 누르면 선택 처리
                    selectedButton = 'yes';
                    yesButton.classList.add('selected-button');
                    noButton.classList.remove('selected-button');
                }
            });

            noButton.addEventListener('click', function() {
                if (selectedButton === 'no') {
                    // 이미 선택된 N 버튼을 다시 누르면 선택 취소
                    selectedButton = null;
                    noButton.classList.remove('selected-button');
                } else if (selectedButton === 'yes') {
                    // 다른 버튼이 선택된 상태에서 N 버튼을 누르면 경고 표시
                    showWarning();
                } else {
                    // 기본 상태에서 N 버튼을 누르면 선택 처리
                    selectedButton = 'no';
                    noButton.classList.add('selected-button');
                    yesButton.classList.remove('selected-button');
                }
            });

            function showWarning() {
                alert('Warning: 하나의 버튼만 선택 가능합니다.');
                if (result) {
                // Yes 클릭 시 동작
                // 창을 닫는다
                selectedButton = null;
                } else {
                // No 클릭 시 동작
                // 아무 동작 없음
                }
            }    

            //컬러박스
            document.getElementById('colorBox').addEventListener('click', function() {
            this.classList.toggle('clicked');
            });    


            let selectedButtonNumber = '';
            let selectedButtonColor = '';

            function selectButton(buttonNumber, buttonElement, idx) {
                // 모든 버튼의 선택 클래스 제거
                const buttons = document.querySelectorAll('.vertical-buttons button');
                buttons.forEach((button, i) => button.classList.remove('selected'+i));
                
                // 선택된 버튼에 선택 클래스 추가
                buttonElement.classList.add('selected' +idx);
                selectedButtonNumber = buttonNumber;
                selectedButtonColor = window.getComputedStyle(buttonElement).backgroundColor;
            }

            function addContent() {
                if (selectedButtonNumber === '') {
                    alert('먼저 번호 버튼을 선택하세요.');
                    return;
                }

                const inputField = document.getElementById('inputField');
                const content = inputField.value;
                const displayArea = document.getElementById('displayArea');
                const newContent = document.createElement('div');
                const newContent1 = document.createElement('span');
                const newContent2 = document.createElement('span');
                const newContent3 = document.createElement('span');

                newContent1.textContent = `${selectedButtonNumber}:`
                newContent2.textContent = `${content}`;
                newContent3.textContent = getCurrentDateTime();
                
                newContent1.style.color = selectedButtonColor; // 텍스트 색상 변경
                newContent2.style.color = '#000'; // 텍스트 색상 변경
                
                newContent.appendChild(newContent3);
                newContent.appendChild(newContent1);
                newContent.appendChild(newContent2);
                displayArea.appendChild(newContent);

                inputField.value = ''; // 입력 필드 초기화
                selectedButtonNumber = ''; // 선택된 버튼 번호 초기화

                // 모든 버튼의 선택 클래스 제거
                const buttons = document.querySelectorAll('.vertical-buttons button');
                buttons.forEach((button, i) => button.classList.remove('selected'+i));
            }

            function handleKeyPress(event) {
                if (event.key === 'Enter') {
                    addContent();
                }
            }

            function getCurrentDateTime() {
            const now = new Date();
            const date = now.toLocaleDateString('ko-KR');
            const time = now.toLocaleTimeString('ko-KR');
            return `${date} ${time}`;
            }
           

            function showSubmitMessage() {
                var result = confirm("제출되었습니다. 다시 검색하시겠습니까?");
                if (result) {
                // Yes 클릭 시 동작
                // 창을 닫는다
                window.close();
                } else {
                // No 클릭 시 동작
                // 아무 동작 없음
                }
            }
            //착불 체크 박스 선택시 금액입력칸    
            const addRecipientPay = document.getElementById('recipient-pay');
            const addRecipient = document.getElementById('recipient');

            addRecipientPay.addEventListener('change', function() {
                if (this.checked) {
                    addRecipient.style.display = 'block';
                } else {
                    addRecipient.style.display = 'none';
                }
            });

            //무상 체크 박스 선택시 날짜입력칸
            const addfreePay = document.getElementById('free-pay');
            const addfree = document.getElementById('free');

            addfreePay.addEventListener('change', function() {
                if (this.checked) {
                    addfree.style.display = 'block';
                } else {
                    addfree.style.display = 'none';
                }
            });
           
            
            // Function to generate a random post number
            function generatePostNumber() {
                return Math.floor(Math.random() * 1000) + 1; // Adjust range as needed
            }

            function setLabelPosition(position) {
                document.getElementById('label-position').value = position;
            }
            
            $(document).ready(function() {
                // API 호출
                $.ajax({
                    url: 'localhost',
                    method: 'GET',
                    dataType: 'json',
                    success: function(response) {
                        // 템플릿 가져오기
                        var source = document.getElementById("entry-template").innerHTML;

                        // 템플릿 컴파일
                        var template = Handlebars.compile(source);

                        // 데이터를 템플릿에 바인딩
                        var html = template({data: response});

                        // 결과를 HTML에 삽입
                        document.getElementById("content").innerHTML = html;
                    },
                    error: function(error) {
                        console.error('Error fetching data', error);
                    }
                });
            });
            

                // 모델 리스트 (실제로는 데이터베이스나 API에서 가져오는 것이 일반적)
                const models = [
                    "모델1",
                    "모델2",
                    "모델3",
                    "모델4",
                    // 필요한 만큼 추가
                ];

                // 입력 창과 관련된 JavaScript 코드
                window.onload = function() {
                    const input = document.getElementById('name');

                    // 입력이 바뀔 때마다 자동 완성 기능 실행
                    input.addEventListener('input', function() {
                        const searchText = input.value.trim(); // 입력된 텍스트

                        // 모델 리스트에서 정확히 일치하는 모델 찾기
                        const suggestion = models.find(function(model) {
                            return model === searchText;
                        });

                        // 정확히 일치하는 모델이 있다면 제안
                        if (suggestion) {
                            alert('관련 검색어: ' + suggestion);
                        } else {
                            alert('일치하는 모델이 없습니다.');
                        }
                    });
                };
        </script>
        <script src="js/handlebars.test.js"></script>
    </body>
</html>
